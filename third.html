<!DOCTYPE html>
<html lang="en">
<style>
body {
  font-family: 'Open Sans', sans-serif;
}
.axis .domain {
  display: none;
}
circle {fill: lightblue; stroke: black;}
</style>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src='https://d3js.org/d3.v5.min.js'></script>
</head>
<body onload='init()'>
<div class="container" id="container">
        <!-- Header -->
        <div class="grids" style="background-color:#e5e5e5;padding:15px;text-align:center;display: block;" id="header">
            <h1>
                Analysis of International Football Games(1872-2018)
            </h1>
            <div align='left'>
            	<p>
                Between 1872 and 2018, <b>41586</b> international football matches were played. However, due the major geopolitical changes that have transpired during this time many of the countries that have games listed in the dataset have either been assimilated into bigger nations or split up into parts of different nations. To account for this the dataset was cleaned and the updated dataset can be found <a href='https://atbasu.github.io/total_games.csv' download>here</a>. 
                </p>
            </div>
        </div>
</div>
<div align='center' class="card" style="background-color: transparent;">
	<button class="btn active nav-btn">Home</button>
    <button class="btn nav-btn">Games</button>
    <button class="btn nav-btn">Wins/Losses</button>
    <button class="btn nav-btn">Goals</button>
    <button class="btn" onclick="plusDivs(-1)">❮ Prev</button>
    <button class="btn" onclick="plusDivs(1)">Next ❯</button>
</div>
<div id="goals">
	<svg width="1280" height="1280"></svg>
</div>
<script>
async function init() {
	const data = await d3.csv('https://atbasu.github.io/cars2017.csv');
	console.log(data);
	var logXScale = d3.scaleLinear()
		.domain([0,2700])
		.range([0,1200]);
	var logYScale = d3.scaleLog()
		.domain([0,2700])
		.range([1200,0]);
	d3.select("#goals")
		.select("svg")
		.append('g')
			.attr('transform','translate('+40+','+40+')')
		.selectAll('circle')
		.data(data)
		.enter()
		.append('circle')
			.attr('cx',function(d,i) {return logXScale(d.AverageCityMPG);})
			.attr('cy',function(d,i) {return logYScale(d.AverageHighwayMPG);})
			.attr('r',function(d,i) {return 2+parseInt(d.EngineCylinders);});
	var yAxis = d3.axisLeft(logYScale)
					.tickFormat(d3.format("~s"))
	d3.select('svg')
  		.append('g')
  			.attr('transform','translate('+40+','+40+')')
  			.call(yAxis);
  			
  	var xAxis = d3.axisBottom(logXScale)
  					.tickFormat(d3.format("~s"))
  	d3.select('svg')
  		.append('g')
  			.attr('transform','translate('+40+','+1240+')')
  			.call(xAxis);
    

}
    var slideIndex = 3;
    showDivs(slideIndex);

    function plusDivs(n) {
      showDivs(slideIndex += n);
    }

    function currentDiv(n) {
      showDivs(slideIndex = n);
    }

    function showDivs(n) {

      var i;
      // var x = document.getElementsByClassName("grids");
      var length = 5;
      var navBtns = document.getElementsByClassName("nav-btn");
      for (i = 0; i < navBtns.length; i++) {
        navBtns[i].className = navBtns[i].className.replace(" active", "");
      }
      if (n == 2) {
        window.location.href = "second.html";
      }
      if (n == 4) {
        window.location.href = "index.html";
      }
      navBtns[slideIndex].className += " active";
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
    }
</script>
<body>
</html>